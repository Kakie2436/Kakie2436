# 实现棋盘+小球碰撞模型
# 棋盘
采用easyx库进行绘制，基本也就是照着官方文档写就行，唯一的问题是考虑png背景问题，这个放在后面写
----
```
#undef UNICODE
#undef _UNICODE//我的VS版本过高，要把unicode默认编码改成MBCS，这里取消unicode的宏定义
#include<graphics.h>
#include<conio.h>
#include<easyx.h>
#include<iostream>

using namespace std;

IMAGE img,zhezhao,yuan;

void qipan();//棋盘
void lineandpoint();//线点
void cursor();//光标
void indicator();//提示
void qizibai(int size_x,int size_y,int position_x,int position_y);//利用位运算消除背景色并导入棋子
void qizihei(int size_x,int size_y,int position_x,int position_y);//利用位运算消除背景色并导入棋子

int main()
{
  qipan();
  indicator();
  cin.get();
  return 0;
}


void qipan()
{
  initgraph(960,800);
  loadimage(&img,"back.jpg",960,800);//这里改成自己图片的名字
  putimage(0,0,&img);//棋盘背景
  setlinecolor(BLACK);
  setlinestyle(PS_SOLID,3);
  rectangle(0,0,630,630);//框
  lineandpoint();//线，点
  cursor();//光标
}
void lineandpoint()
{
  setlinestyle(PS_SOLID,1);
  for(int x = 0; x <= 630; x += 30)
  {
    line(x,0,x,630);
  }
  for(int y = 0; y <= 630; y += 30)
  {
    line(0,y,630,y);
  }//框
  setfillcolor(BLACK);
  solidcircle(90,90,5);
  solidcircle(540,90,5);
  solidcircle(330,330,5);
  solidcircle(90,540,5);
  solidcircle(540,540,5);//点
}
void cursor()
{
  setlinecolor(RED);
  rectangle(315,315,345,345);
}


void indicator()
{
  setlinecolor(BLACK);
  settextcolor(BLACK);
  settextstyle(32, 0, "Consolas");
  setbkmode(TRANSPARENT);
  rectangle(650,50,850,250);
  char s1[]="出棋方";
  char s2[]="wasd移动光标,空格落棋,ESC退出";
  outtextxy(715,270,s1);
  outtextxy(20,700,s2);
  qizihei(150,150,670,70);
}


void qizibai(int size_x,int size_y,int position_x,int position_y)
{
  loadimage(&yuan,"bai.png",size_x,size_y);//这里改成自己图片的名字
  loadimage(&zhezhao,"baibk.png",size_x,size_y);//这里改成自己图片的名字
  putimage(position_x, position_y ,&zhezhao, SRCAND);//添加位运算宏
	putimage(position_x, position_y, &yuan, SRCPAINT);
}
void qizihei(int size_x,int size_y,int position_x,int position_y)
{
  loadimage(&yuan,"hei.png",size_x,size_y);//这里改成自己图片的名字
  loadimage(&zhezhao,"heibk.png",size_x,size_y);//这里改成自己图片的名字
  putimage(position_x, position_y ,&zhezhao, SRCAND);//添加位运算宏
	putimage(position_x, position_y, &yuan, SRCPAINT);
}
```
### 讲一下png消除背景的方法
网上找了很多方法，这是唯一一个成了的，简单来说就是利用位运算消除背景，原文链接如下    
<https://blog.csdn.net/m0_60777643/article/details/122833558>